<div class="container nav_height" ng-cloak>

    <h1 class="text-center wow fadeInDown animation-delay-5 discover ng-binding" >{{"business.BUSINESS_SEARCH" | translate}}</h1>
    <form class="form-horizontal col-md-offset-3 col-md-6 col-md-offset-right-3 col-xs-12" autocomplete="off">
        <fieldset>
            <div class="form-group mb-6">
                <div class="input-group">
                    <input type="text" class="form-control whiteTheme" ng-model="searchBusiness" placeholder="{{'business.BUSINESS_NAME' | translate}}" name="searchBox">
                    <span class="input-group-btn no-p">
                        <button type="submit" class="btn btn-raised btn-primary" ng-click="search(searchBusiness)">{{"business.SEARCH" | translate}}</button>
                    </span>
                </div>
            </div>
        </fieldset>
    </form>
    
    <div class="mt-6">
        <div class="col-md-8 col-md-offset-2 col-md-offset-right-2 col-xs-12 text-center ">
            <p class="color-danger mt-2 mb-2" ng-show="businessDetailLength == 0">{{"business.SEARCH_BUSINESS_MESSAGE" | translate}}</p>
        </div>
        <div ng-repeat="business in businessDetails" class="col-md-offset-1 col-md-10 col-md-offset-right-1 col-xs-12">
            <article class="card wow fadeInLeft animation-delay-5 mb-4">
                <div class="card-block">
                    <div class="row">
                        <div class="col-md-7 col-xs-12">
                           
                            <img ng-repeat="slide in business.imageUrls" class="img-responsive col-xs-12" ng-swipe-right="showPrev(slide)"
                                ng-swipe-left="showNext(slide)" ng-show="isActive($index)"
                                ng-src="{{slide.originalUrl}}" alt="business.venueName" />
                               <ul class="buttonNav">
                                   <li ng-repeat="slide in business.imageUrls"
                                   ng-class="{'active':isActive($index)}">
                                    <img ng-src="{{slide.originalUrl}}"
                                    class="img-responsive sliderThumb" alt="thumbnail" ng-click="showPhoto(slide,$index);" />
                                    </li>
                                </ul>
                        </div>
                        <div class="col-md-5 col-xs-12">
                            <p class="no-mt title-bold">{{business.venueName}}</p>
                            <p class="venueDescription ">{{business.description | limitTo: 200
                            }}{{business.description.length > 200 ? '...' :''}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-7 col-xs-12">
                            <p class="pl-1 mt-1 mb-1 venueDescription" ><i class="mr-1 fa fa-map-marker"></i>{{business.address}}</p>
                            <a class="pl-1 mont-font-regular" href="{{business.website}}" target="_blank">
                                <i class="fa fa-globe" aria-hidden="true"></i>Website
                            </a>
                        </div>
                        <div class="col-md-5 col-xs-12" >
                            <a href="#" class="btn btn-primary btn-raised btn-block" ng-click="clickClaimBusiness(business)">
                                {{(business.flag ? "business.CLAIMED_BUSINESS" : "business.CLAIM_BUSINESS") | translate}}
                            </a>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    </div>
    <div class="text-center">
        <button type="button" class="btn btn-raised btn-primary" ng-if="businessDetails" ng-click="createBusinessMethod()">
            {{"business.CREATE_BUSINESS" | translate}}</button>
    </div>
    <div ng-show="claimForm == true">
        <div ng-include="'business/create-business.html'"></div>
    </div>
    <div ng-include="'custom-dialog.html'"></div>
    <div ng-include="'mail-validation.html'"></div>
    
</div>



<div class="modal" id="subscribeModalSearch" tabindex="-1" role="dialog" aria-labelledby="myModalLabel6">
    <form name="subscribe" novalidate="">
        <div class="modal-dialog animated zoomIn animated-3x" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="zmdi zmdi-close"></i></span></button>
                    <h2 class="modal-title" id="myModalLabel6" ng-bind="'business.BUSINESS_SEARCH' | translate">Subscribe Mail</h2>
                </div>
                <div class="modal-body">
                    <div class="col-md-12 form-group label-floating is-empty no-p" ng-class="successEmail.length > 0 ? '' : 'is-empty'">
                        <label class="control-label" for="emailId" ng-bind="'business.EMAIL' | translate">Email</label>
                        <input  name="emailId" type="email" value="Email" class="form-control" ng-model="successEmail" required>
                    </div>
                    <div class="col-md-12 form-group label-floating is-empty no-p" >
                        <label class="control-label" for="nameOfPerson" ng-bind="'business.NAME_OF_PERSION' | translate">Name of the Person</label>
                        <input id="nameOfPerson" name="nameOfPerson" type="text" value="NameOfPerson" class="form-control" ng-model="business.NameOfPerson" required>
                    </div>
                    <div class="col-md-12 form-group label-floating is-empty no-p" >
                        <label class="control-label" for="roldId" ng-bind="'business.ROLE_OPTIONAL' | translate">Role</label>
                        <select id="roldId" name="roldId" class="select form-control" required="required" ng-model="business.businessRole" ng-options="r.role for r in businessRoles">
                        </select>
                    </div>
                    <div class="col-md-12 form-group label-floating is-empty no-p" >
                        <label class="control-label" for="phoneNo" ng-bind="'business.PHONE_OPTIONAL' | translate">Phone number</label>
                        <input id="phoneNo" name="phoneNo" type="text" class="form-control" required="required" masked="" data-inputmask="'mask': '(999) 999-9999'" ng-model="business.phoneNumber" data-parsley-trigger="change">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal" ng-click="businessSubmit(currentSelectedVenue, business)" ng-disabled="subscribe.$invalid">{{'business.SUBMIT' | translate}}</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-bind="'business.CANCEL' | translate">Cancel</button>
                </div>
            </div>
        </div>
    </form>
</div>
